<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Database | Admidio API</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?70c1d062672daa3f906b72e4f5d03d4bc5c4174d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">Admidio API</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
<span>Package</span>					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
					</li>

						<li>
							<a href="annotation-group-deprecated.html" title="List of elements with deprecated annotation">
								<span>Deprecated</span>
							</a>
						</li>
						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>


				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Packages</h3>
			<ul>
					<li>
						<a href="package-com.html">
							com<span></span>
						</a>
							<ul>
					<li>
						<a href="package-com.tecnick.html">
							tecnick<span></span>
						</a>
							<ul>
					<li>
						<a href="package-com.tecnick.tcpdf.html">
							tcpdf						</a>
							</li>
								</ul></li></ul></li>
					<li>
						<a href="package-None.html">
							None						</a>
							</li>
					<li>
						<a href="package-PHPMailer.html">
							PHPMailer<span></span>
						</a>
							<ul>
					<li>
						<a href="package-phpmailer.easypeasyics.html">
							easypeasyics						</a>
							</li>
								</ul></li>
					<li>
						<a href="package-PHPWavUtils.html">
							PHPWavUtils						</a>
							</li>
					<li>
						<a href="package-Securimage.html">
							Securimage<span></span>
						</a>
							<ul>
					<li>
						<a href="package-Securimage.classes.html">
							classes						</a>
							</li>
								</ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-AutoLogin.html">AutoLogin</a></li>
				<li><a href="class-Component.html">Component</a></li>
				<li><a href="class-ComponentUpdate.html">ComponentUpdate</a></li>
				<li><a href="class-ConditionParser.html">ConditionParser</a></li>
				<li class="active"><a href="class-Database.html">Database</a></li>
				<li><a href="class-DateTimeExtended.html">DateTimeExtended</a></li>
				<li><a href="class-Email.html">Email</a></li>
				<li><a href="class-Folder.html">Folder</a></li>
				<li><a href="class-FormValidation.html">FormValidation</a></li>
				<li><a href="class-FunctionClass.html">FunctionClass</a></li>
				<li><a href="class-Htaccess.html">Htaccess</a></li>
				<li><a href="class-HtmlDiv.html">HtmlDiv</a></li>
				<li><a href="class-HtmlElement.html">HtmlElement</a></li>
				<li><a href="class-HtmlForm.html">HtmlForm</a></li>
				<li><a href="class-HtmlFormBasic.html">HtmlFormBasic</a></li>
				<li><a href="class-HtmlFormInstallation.html">HtmlFormInstallation</a></li>
				<li><a href="class-HtmlList.html">HtmlList</a></li>
				<li><a href="class-HtmlNavbar.html">HtmlNavbar</a></li>
				<li><a href="class-HtmlPage.html">HtmlPage</a></li>
				<li><a href="class-HtmlTable.html">HtmlTable</a></li>
				<li><a href="class-HtmlTableBasic.html">HtmlTableBasic</a></li>
				<li><a href="class-Image.html">Image</a></li>
				<li><a href="class-Inventory.html">Inventory</a></li>
				<li><a href="class-InventoryFields.html">InventoryFields</a></li>
				<li><a href="class-Language.html">Language</a></li>
				<li><a href="class-LanguageData.html">LanguageData</a></li>
				<li><a href="class-ListConfiguration.html">ListConfiguration</a></li>
				<li><a href="class-Menu.html">Menu</a></li>
				<li><a href="class-Message.html">Message</a></li>
				<li><a href="class-ModuleAnnouncements.html">ModuleAnnouncements</a></li>
				<li><a href="class-ModuleDates.html">ModuleDates</a></li>
				<li><a href="class-ModuleLists.html">ModuleLists</a></li>
				<li><a href="class-ModuleMenu.html">ModuleMenu</a></li>
				<li><a href="class-ModuleMessages.html">ModuleMessages</a></li>
				<li><a href="class-Modules.html">Modules</a></li>
				<li><a href="class-ModuleWeblinks.html">ModuleWeblinks</a></li>
				<li><a href="class-MyFiles.html">MyFiles</a></li>
				<li><a href="class-Navigation.html">Navigation</a></li>
				<li><a href="class-ntlm_sasl_client_class.html">ntlm_sasl_client_class</a></li>
				<li><a href="class-Organization.html">Organization</a></li>
				<li><a href="class-Participants.html">Participants</a></li>
				<li><a href="class-PasswordHash.html">PasswordHash</a></li>
				<li><a href="class-PasswordHashing.html">PasswordHashing</a></li>
				<li><a href="class-ProfileFields.html">ProfileFields</a></li>
				<li><a href="class-RoleDependency.html">RoleDependency</a></li>
				<li><a href="class-RolesRights.html">RolesRights</a></li>
				<li><a href="class-RSSfeed.html">RSSfeed</a></li>
				<li><a href="class-Session.html">Session</a></li>
				<li><a href="class-SystemMail.html">SystemMail</a></li>
				<li><a href="class-TableAccess.html">TableAccess</a></li>
				<li><a href="class-TableAnnouncement.html">TableAnnouncement</a></li>
				<li><a href="class-TableCategory.html">TableCategory</a></li>
				<li><a href="class-TableDate.html">TableDate</a></li>
				<li><a href="class-TableFile.html">TableFile</a></li>
				<li><a href="class-TableFolder.html">TableFolder</a></li>
				<li><a href="class-TableGuestbook.html">TableGuestbook</a></li>
				<li><a href="class-TableGuestbookComment.html">TableGuestbookComment</a></li>
				<li><a href="class-TableInventory.html">TableInventory</a></li>
				<li><a href="class-TableInventoryField.html">TableInventoryField</a></li>
				<li><a href="class-TableLists.html">TableLists</a></li>
				<li><a href="class-TableMembers.html">TableMembers</a></li>
				<li><a href="class-TableMessage.html">TableMessage</a></li>
				<li><a href="class-TablePhotos.html">TablePhotos</a></li>
				<li><a href="class-TableRoles.html">TableRoles</a></li>
				<li><a href="class-TableRooms.html">TableRooms</a></li>
				<li><a href="class-TableText.html">TableText</a></li>
				<li><a href="class-TableUserField.html">TableUserField</a></li>
				<li><a href="class-TableUsers.html" class="deprecated">TableUsers</a></li>
				<li><a href="class-TableWeblink.html">TableWeblink</a></li>
				<li><a href="class-UploadHandlerDownload.html">UploadHandlerDownload</a></li>
				<li><a href="class-UploadHandlerPhoto.html">UploadHandlerPhoto</a></li>
				<li><a href="class-User.html">User</a></li>
				<li><a href="class-UserRegistration.html">UserRegistration</a></li>
			</ul>



			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-AdmException.html">AdmException</a></li>
				<li><a href="class-WavFileException.html">WavFileException</a></li>
				<li><a href="class-WavFormatException.html">WavFormatException</a></li>
			</ul>


			<h3>Functions</h3>
			<ul>
				<li><a href="function-admFuncAutoload.html">admFuncAutoload</a></li>
				<li><a href="function-admFuncGeneratePagination.html">admFuncGeneratePagination</a></li>
				<li><a href="function-admFuncGetBytesFromSize.html">admFuncGetBytesFromSize</a></li>
				<li><a href="function-admFuncGetDirectoryEntries.html">admFuncGetDirectoryEntries</a></li>
				<li><a href="function-admFuncMaxUploadSize.html">admFuncMaxUploadSize</a></li>
				<li><a href="function-admFuncProcessableImageSize.html">admFuncProcessableImageSize</a></li>
				<li><a href="function-admFuncShowCreateChangeInfoById.html">admFuncShowCreateChangeInfoById</a></li>
				<li><a href="function-admFuncShowCreateChangeInfoByName.html">admFuncShowCreateChangeInfoByName</a></li>
				<li><a href="function-admFuncVariableIsValid.html">admFuncVariableIsValid</a></li>
				<li><a href="function-admReadTemplateFile.html">admReadTemplateFile</a></li>
				<li><a href="function-admStrIsValidFileName.html">admStrIsValidFileName</a></li>
				<li><a href="function-admStrStripTagsSpecial.html">admStrStripTagsSpecial</a></li>
				<li><a href="function-admStrToLower.html">admStrToLower</a></li>
				<li><a href="function-admStrToUpper.html">admStrToUpper</a></li>
				<li><a href="function-bzip2Version.html">bzip2Version</a></li>
				<li><a href="function-checkDatabaseVersion.html">checkDatabaseVersion</a></li>
				<li><a href="function-checkPhpVersion.html">checkPhpVersion</a></li>
				<li><a href="function-EmailAttachment.html">EmailAttachment</a></li>
				<li><a href="function-FileSizeNiceDisplay.html">FileSizeNiceDisplay</a></li>
				<li><a href="function-FormattedTimeRemaining.html">FormattedTimeRemaining</a></li>
				<li><a href="function-FunctionIsDisabled.html">FunctionIsDisabled</a></li>
				<li><a href="function-getFormerRolesFromDatabase.html">getFormerRolesFromDatabase</a></li>
				<li><a href="function-getFutureRolesFromDatabase.html">getFutureRolesFromDatabase</a></li>
				<li><a href="function-getmicrotime.html">getmicrotime</a></li>
				<li><a href="function-getRoleMemberships.html">getRoleMemberships</a></li>
				<li><a href="function-getRolesFromDatabase.html">getRolesFromDatabase</a></li>
				<li><a href="function-gzipVersion.html">gzipVersion</a></li>
				<li><a href="function-hasRole.html">hasRole</a></li>
				<li><a href="function-hl_attrval.html">hl_attrval</a></li>
				<li><a href="function-hl_bal.html">hl_bal</a></li>
				<li><a href="function-hl_cmtcd.html">hl_cmtcd</a></li>
				<li><a href="function-hl_ent.html">hl_ent</a></li>
				<li><a href="function-hl_prot.html">hl_prot</a></li>
				<li><a href="function-hl_regex.html">hl_regex</a></li>
				<li><a href="function-hl_spec.html">hl_spec</a></li>
				<li><a href="function-hl_tag.html">hl_tag</a></li>
				<li><a href="function-hl_tag2.html">hl_tag2</a></li>
				<li><a href="function-hl_tidy.html">hl_tidy</a></li>
				<li><a href="function-hl_version.html">hl_version</a></li>
				<li><a href="function-htmLawed.html">htmLawed</a></li>
				<li><a href="function-HTMLFilter.html">HTMLFilter</a></li>
				<li><a href="function-isGroupLeader.html">isGroupLeader</a></li>
				<li><a href="function-isMember.html">isMember</a></li>
				<li><a href="function-kses.html">kses</a></li>
				<li><a href="function-kses_hook.html">kses_hook</a></li>
				<li><a href="function-MySQLdumpVersion.html">MySQLdumpVersion</a></li>
				<li><a href="function-OutputInformation.html">OutputInformation</a></li>
				<li><a href="function-SafeExec.html">SafeExec</a></li>
				<li><a href="function-showNotice.html">showNotice</a></li>
				<li><a href="function-strAddSlashesDeep.html">strAddSlashesDeep</a></li>
				<li><a href="function-strNextLetter.html">strNextLetter</a></li>
				<li><a href="function-strStripSlashesDeep.html">strStripSlashesDeep</a></li>
				<li><a href="function-strStripTags.html">strStripTags</a></li>
				<li><a href="function-strValidCharacters.html">strValidCharacters</a></li>
				<li><a href="function-tln_body2div.html">tln_body2div</a></li>
				<li><a href="function-tln_casenormalize.html">tln_casenormalize</a></li>
				<li><a href="function-tln_deent.html">tln_deent</a></li>
				<li><a href="function-tln_defang.html">tln_defang</a></li>
				<li><a href="function-tln_findnxreg.html">tln_findnxreg</a></li>
				<li><a href="function-tln_findnxstr.html">tln_findnxstr</a></li>
				<li><a href="function-tln_fixatts.html">tln_fixatts</a></li>
				<li><a href="function-tln_fixstyle.html">tln_fixstyle</a></li>
				<li><a href="function-tln_fixurl.html">tln_fixurl</a></li>
				<li><a href="function-tln_getnxtag.html">tln_getnxtag</a></li>
				<li><a href="function-tln_sanitize.html">tln_sanitize</a></li>
				<li><a href="function-tln_skipspace.html">tln_skipspace</a></li>
				<li><a href="function-tln_tagprint.html">tln_tagprint</a></li>
				<li><a href="function-tln_unspace.html">tln_unspace</a></li>
				<li><a href="function-version_compare_replacement.html">version_compare_replacement</a></li>
				<li><a href="function-version_compare_replacement_sub.html">version_compare_replacement_sub</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class Database</h1>











	<div class="alert alert-info">
		
		
		
		

				<b>Copyright:</b>
				2004-2016 The Admidio Team<br>
				<b>License:</b>
				<a href="https://www.gnu.org/licenses/gpl-2.0.html">GNU General Public License v2.0 only
**********************************************************************************************</a><br>
				<b>Brief:</b>
				<p>Handle the connection to the database, send all sql statements and handle the returned rows.</p>

<p>This class creates a connection to the database and provides several methods
to communicate with the database. There are methods to send sql statements
and to handle the response of the database. This class also supports transactions.
Just call Database#startTransaction and finish it with Database#endTransaction. If
you call this multiple times only 1 transaction will be open and it will be closed
after the last endTransaction was send.</p><br>
				<b>Class:</b>
				Database<br>
				<b>Code:</b>
				<p>// create object and open connection to database
try
{
    $gDb = new Database($gDbType, $g_adm_srv, null, $g_adm_db, $g_adm_usr, $g_adm_pw);
}
catch (AdmException $e)
{
    $e->showText();
}</p><br>
				<b>Code:</b>
				<p>// send sql to database and assign the returned PDOStatement
$organizationsStatement = $gDb->query('SELECT org_shortname, org_longname FROM adm_organizations');</p>

<p>// now fetch all rows of the returned PDOStatement within one array
$organizationsList = $organizationsStatement->fetchAll();</p>

<p>// Array with the results:
//    $organizationsList = array(
//         [0] => array(
//             [org_shortname] => 'DEMO'
//             [org_longname]  => 'Demo-Organization'
//             )
//         [1] => array(
//             [org_shortname] => 'TEST'
//             [org_longname]  => 'Test-Organization'
//             )</p>

<p>// you can also go step by step through the returned PDOStatement
while ($organizationNames = $organizationsStatement->fetch())
{
    echo $organizationNames['shortname'].' '.$organizationNames['longname'];
}</p><br>
				<b>Endcode:</b>
				Now you can use the new object @b $gDb to send a query to the database<br>
				<b>Endcode</b>
				<br>
				<b>Par:</b>
				<p>Examples
To open a connection you can use the settings of the config.php of Admidio.</p><br>
			<b>Located at</b> <a href="source-class-Database.html#10-837" title="Go to source code">database.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="__construct" id="___construct">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___construct">#</a>
			<code><a href="source-class-Database.html#77-134" title="Go to source code">__construct</a>( <span>string <var>$engine</var></span>, <span>string <var>$host</var></span>, <span>integer <var>$port</var></span>, <span>string <var>$dbName</var></span>, <span>string <var>$username</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$password</var> = <span class="php-keyword1">null</span></span>, <span>array <var>$options</var> = <span class="php-keyword1">array</span>()</span> )</code>

			<div class="description short">
				<p>The constructor will check if a valid engine was set and try to connect to the database.
If the engine is invalid or the connection not possible an exception will be thrown.</p>
			</div>

			<div class="description detailed hidden">
				<p>The constructor will check if a valid engine was set and try to connect to the database.
If the engine is invalid or the connection not possible an exception will be thrown.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$engine</var></dt>
						<dd>The database type that is supported from Admidio. @b mysql and @b pgsql are valid values.</dd>
						<dt><var>$host</var></dt>
						<dd>The hostname or server where the database is running. e.g. localhost or 127.0.0.1</dd>
						<dt><var>$port</var></dt>
						<dd>If you don't use the default port of the database then set your port here.</dd>
						<dt><var>$dbName</var></dt>
						<dd>Name of the database you want to connect.</dd>
						<dt><var>$username</var></dt>
						<dd>Username to connect to database</dd>
						<dt><var>$password</var></dt>
						<dd>Password to connect to database</dd>
						<dt><var>$options</var></dt>
						<dd></dd>
					</dl></div>


					<h4>Throws</h4>
					<div class="list">
						<code><a href="class-AdmException.html">AdmException</a></code>
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="setDSNString" id="_setDSNString">

			<td class="attributes"><code>
				 private 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_setDSNString">#</a>
			<code><a href="source-class-Database.html#136-171" title="Go to source code">setDSNString</a>( <span>string <var>$engine</var></span> )</code>

			<div class="description short">
				<p>Create a valid DSN string for the engine that was set through the constructor.
If no valid engine is set than an exception is thrown.</p>
			</div>

			<div class="description detailed hidden">
				<p>Create a valid DSN string for the engine that was set through the constructor.
If no valid engine is set than an exception is thrown.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$engine</var></dt>
						<dd>The database type that is supported from Admidio. @b mysql and @b pgsql are valid values.</dd>
					</dl></div>


					<h4>Throws</h4>
					<div class="list">
						PDOException
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="setConnectionOptions" id="_setConnectionOptions">

			<td class="attributes"><code>
				 private 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_setConnectionOptions">#</a>
			<code><a href="source-class-Database.html#173-205" title="Go to source code">setConnectionOptions</a>( )</code>

			<div class="description short">
				<p>Set connection specific options like UTF8 connection.
These options should always be set if Admidio connect to a database.</p>
			</div>

			<div class="description detailed hidden">
				<p>Set connection specific options like UTF8 connection.
These options should always be set if Admidio connect to a database.</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="getPropertyFromDatabaseConfig" id="_getPropertyFromDatabaseConfig">

			<td class="attributes"><code>
				 protected 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getPropertyFromDatabaseConfig">#</a>
			<code><a href="source-class-Database.html#207-216" title="Go to source code">getPropertyFromDatabaseConfig</a>( <span>string <var>$property</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$property</var></dt>
						<dd>Property name of the in use database config</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string<br>Returns the value of the chosen property
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getName" id="_getName">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getName">#</a>
			<code><a href="source-class-Database.html#218-229" title="Go to source code">getName</a>( )</code>

			<div class="description short">
				<p>Get the name of the database that is running Admidio.</p>
			</div>

			<div class="description detailed hidden">
				<p>Get the name of the database that is running Admidio.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Returns a string with the name of the database e.g. 'MySQL' or 'PostgreSQL'
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getMinimumRequiredVersion" id="_getMinimumRequiredVersion">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getMinimumRequiredVersion">#</a>
			<code><a href="source-class-Database.html#231-242" title="Go to source code">getMinimumRequiredVersion</a>( )</code>

			<div class="description short">
				<p>Get the minimum required version of the database that is necessary to run Admidio.</p>
			</div>

			<div class="description detailed hidden">
				<p>Get the minimum required version of the database that is necessary to run Admidio.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Returns a string with the minimum required database version e.g. '5.0.1'
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getVersion" id="_getVersion">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getVersion">#</a>
			<code><a href="source-class-Database.html#244-262" title="Go to source code">getVersion</a>( )</code>

			<div class="description short">
				<p>Get the version of the connected database.</p>
			</div>

			<div class="description detailed hidden">
				<p>Get the version of the connected database.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Returns a string with the database version e.g. '5.5.8'
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="startTransaction" id="_startTransaction">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_startTransaction">#</a>
			<code><a href="source-class-Database.html#264-299" title="Go to source code">startTransaction</a>( )</code>

			<div class="description short">
				<p>Start a transaction if no open transaction exists. If you call this multiple times
only 1 transaction will be open and it will be closed after the last endTransaction was send.</p>
			</div>

			<div class="description detailed hidden">
				<p>Start a transaction if no open transaction exists. If you call this multiple times
only 1 transaction will be open and it will be closed after the last endTransaction was send.</p>



					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>


					<h4>See</h4>
					<div class="list">
							Database#endTransaction<br>
							Database#rollback<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="endTransaction" id="_endTransaction">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_endTransaction">#</a>
			<code><a href="source-class-Database.html#301-343" title="Go to source code">endTransaction</a>( )</code>

			<div class="description short">
				<p>The method will commit an open transaction to the database. If the
transaction counter is greater 1 than only the counter will be
decreased and no commit will performed.</p>
			</div>

			<div class="description detailed hidden">
				<p>The method will commit an open transaction to the database. If the
transaction counter is greater 1 than only the counter will be
decreased and no commit will performed.</p>



					<h4>Returns</h4>
					<div class="list">
						boolean<br>Returns @b true if the commit was successful otherwise @b false
					</div>


					<h4>See</h4>
					<div class="list">
							Database#startTransaction<br>
							Database#rollback<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="escapeString" id="_escapeString">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_escapeString">#</a>
			<code><a href="source-class-Database.html#345-356" title="Go to source code">escapeString</a>( <span>string <var>$string</var></span> )</code>

			<div class="description short">
				<p>Escapes special characters within the input string.
In contrast to the <a href="https://secure.php.net/manual/en/pdo.quote.php">quote</a> method,
the returned string has no quotes around the input string!</p>
			</div>

			<div class="description detailed hidden">
				<p>Escapes special characters within the input string.
In contrast to the <a href="https://secure.php.net/manual/en/pdo.quote.php">quote</a> method,
the returned string has no quotes around the input string!</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$string</var></dt>
						<dd>The string to be quoted.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string<br>Returns a quoted string that is theoretically safe to pass into an SQL statement.
					</div>


					<h4>See</h4>
					<div class="list">
							<a href="https://secure.php.net/manual/en/pdo.quote.php">PDO::quote</a><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="getBacktrace" id="_getBacktrace">

			<td class="attributes"><code>
				 protected 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getBacktrace">#</a>
			<code><a href="source-class-Database.html#358-418" title="Go to source code">getBacktrace</a>( )</code>

			<div class="description short">
				<p>This method will create an backtrace of the current position in the script. If several
scripts were called than each script with their position will be listed in the backtrace.</p>
			</div>

			<div class="description detailed hidden">
				<p>This method will create an backtrace of the current position in the script. If several
scripts were called than each script with their position will be listed in the backtrace.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Returns a string with the backtrace of all called scripts.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="lastInsertId" id="_lastInsertId">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_lastInsertId">#</a>
			<code><a href="source-class-Database.html#420-435" title="Go to source code">lastInsertId</a>( )</code>

			<div class="description short">
				<p>Returns the ID of the unique id column of the last INSERT operation.
This method replace the old method Database#insert_id.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the ID of the unique id column of the last INSERT operation.
This method replace the old method Database#insert_id.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Return ID value of the last INSERT operation.
					</div>


					<h4>See</h4>
					<div class="list">
							Database#insert_id<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="query" id="_query">

			<td class="attributes"><code>
				 public 
				PDOStatement
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_query">#</a>
			<code><a href="source-class-Database.html#437-513" title="Go to source code">query</a>( <span>string <var>$sql</var></span>, <span>boolean <var>$showError</var> = <span class="php-keyword1">true</span></span> )</code>

			<div class="description short">
				<p>Send a sql statement to the database that will be executed. If debug mode is set
then this statement will be written to the error log. If it's a @b SELECT statement
then also the number of rows will be logged. If an error occurred the script will
be terminated and the error with a backtrace will be send to the browser.</p>
			</div>

			<div class="description detailed hidden">
				<p>Send a sql statement to the database that will be executed. If debug mode is set
then this statement will be written to the error log. If it's a @b SELECT statement
then also the number of rows will be logged. If an error occurred the script will
be terminated and the error with a backtrace will be send to the browser.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$sql</var></dt>
						<dd>A string with the sql statement that should be executed in database.</dd>
						<dt><var>$showError</var></dt>
						<dd><p>Default will be @b true and if an error the script will be terminated and
                          occurred the error with a backtrace will be send to the browser. If set to</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						PDOStatement<br><p>For @b SELECT statements an object of <a href="https://secure.php.net/manual/en/class.pdostatement.php">PDOStatement</a> will be returned.
                      This should be used to fetch the returned rows. If an error occurred then @b false will be returned.</p>
					</div>


					<h4>B</h4>
					<div class="list">
							false no error will be shown and the script will be continued.<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="rollback" id="_rollback">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_rollback">#</a>
			<code><a href="source-class-Database.html#515-546" title="Go to source code">rollback</a>( )</code>

			<div class="description short">
				<p>If there is a open transaction than this method sends a rollback
to the database and will set the transaction counter to zero.</p>
			</div>

			<div class="description detailed hidden">
				<p>If there is a open transaction than this method sends a rollback
to the database and will set the transaction counter to zero.</p>



					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>


					<h4>See</h4>
					<div class="list">
							Database#startTransaction<br>
							Database#endTransaction<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="showColumns" id="_showColumns">

			<td class="attributes"><code>
				 public 
				string[]|array[]
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_showColumns">#</a>
			<code><a href="source-class-Database.html#548-678" title="Go to source code">showColumns</a>( <span>string <var>$table</var></span>, <span>boolean <var>$showColumnProperties</var> = <span class="php-keyword1">true</span></span> )</code>

			<div class="description short">
				<p>Methods reads all columns and their properties from the database table.</p>
			</div>

			<div class="description detailed hidden">
				<p>Methods reads all columns and their properties from the database table.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$table</var></dt>
						<dd>Name of the database table for which the columns should be shown.</dd>
						<dt><var>$showColumnProperties</var></dt>
						<dd>If this is set to @b false only the column names were returned.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string[]|array[]<br><p>Returns an array with each column and their properties if $showColumnProperties is set to @b true.
              The array has the following format:
              array (
                  'column1' => array (
                      'serial' => '1',
                      'null'   => '0',
                      'key'    => '0',
                      'type'   => 'integer'
                   ),
                  'column2' => array (...)
              ...
              )
TODO https://secure.php.net/manual/en/pdostatement.getcolumnmeta.php
https://www.postgresql.org/docs/9.5/static/infoschema-columns.html
https://dev.mysql.com/doc/refman/5.7/en/columns-table.html</p>
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="showError" id="_showError">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_showError">#</a>
			<code><a href="source-class-Database.html#680-732" title="Go to source code">showError</a>( )</code>

			<div class="description short">
				<p>Display the error code and error message to the user if a database error occurred.
The error must be read by the child method. This method will call a backtrace so
you see the script and specific line in which the error occurred.</p>
			</div>

			<div class="description detailed hidden">
				<p>Display the error code and error message to the user if a database error occurred.
The error must be read by the child method. This method will call a backtrace so
you see the script and specific line in which the error occurred.</p>



					<h4>Returns</h4>
					<div class="list">
						<br>Will exit the script and returns a html output with the error information.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getAvailableDBs" id="_getAvailableDBs">

			<td class="attributes"><code>
				 public static
				string[]
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getAvailableDBs">#</a>
			<code class="deprecated"><a href="source-class-Database.html#734-743" title="Go to source code">getAvailableDBs</a>( )</code>

			<div class="description short">
				<p>Returns an array with all available PDO database drivers of the server.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns an array with all available PDO database drivers of the server.</p>

					<h4>Deprecated</h4>
					<div class="list">
							3.1.0:4.0.0 Switched to native PDO method.<br>
					</div>


					<h4>Returns</h4>
					<div class="list">
						string[]<br>Returns an array with all available PDO database drivers of the server.
					</div>


					<h4>See</h4>
					<div class="list">
							<a href="https://secure.php.net/manual/en/pdo.getavailabledrivers.php">PDO::getAvailableDrivers</a><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="fetch_array" id="_fetch_array">

			<td class="attributes"><code>
				 public 
				mixed|null
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_fetch_array">#</a>
			<code class="deprecated"><a href="source-class-Database.html#745-771" title="Go to source code">fetch_array</a>( <span>PDOStatement <var>$pdoStatement</var> = <span class="php-keyword1">null</span></span>, <span>integer <var>$fetchType</var> = PDO::FETCH_BOTH</span> )</code>

			<div class="description short">
				<p>Fetch a result row as an associative array, a numeric array, or both.</p>
			</div>

			<div class="description detailed hidden">
				<p>Fetch a result row as an associative array, a numeric array, or both.</p>

					<h4>Deprecated</h4>
					<div class="list">
							<p>3.1.0:4.0.0 Switched to native PDO method.
            Please use the PHP class <a href="https://secure.php.net/manual/en/class.pdostatement.php">PDOStatement</a>
            and the method <a href="https://secure.php.net/manual/en/pdostatement.fetch.php">fetch</a> instead.</p><br>
					</div>

					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$pdoStatement</var></dt>
						<dd><p>An object of the class PDOStatement. This should be set if multiple
                                   rows where selected and other sql statements are also send to the database.</p></dd>
						<dt><var>$fetchType</var></dt>
						<dd>Set the result type. Can contain @b PDO::FECTH_ASSOC for an associative array,</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed|null<br>Returns an array that corresponds to the fetched row and moves the internal data pointer ahead.
					</div>


					<h4>See</h4>
					<div class="list">
							<a href="https://secure.php.net/manual/en/pdostatement.fetch.php">PDOStatement::fetch</a><br>
					</div>
					<h4>B</h4>
					<div class="list">
							PDO::FETCH_NUM for a numeric array or @b PDO::FETCH_BOTH (Default).<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="fetch_object" id="_fetch_object">

			<td class="attributes"><code>
				 public 
				mixed|null
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_fetch_object">#</a>
			<code class="deprecated"><a href="source-class-Database.html#773-798" title="Go to source code">fetch_object</a>( <span>PDOStatement <var>$pdoStatement</var> = <span class="php-keyword1">null</span></span> )</code>

			<div class="description short">
				<p>Fetch a result row as an object.</p>
			</div>

			<div class="description detailed hidden">
				<p>Fetch a result row as an object.</p>

					<h4>Deprecated</h4>
					<div class="list">
							<p>3.1.0:4.0.0 Switched to native PDO method.
            Please use methods Database#fetchAll or Database#fetch instead.
            Please use the PHP class <a href="https://secure.php.net/manual/en/class.pdostatement.php">PDOStatement</a>
            and the method <a href="https://secure.php.net/manual/en/pdostatement.fetchobject.php">fetchObject</a> instead.</p><br>
					</div>

					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$pdoStatement</var></dt>
						<dd><p>An object of the class PDOStatement. This should be set if multiple
                                   rows where selected and other sql statements are also send to the database.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed|null<br>Returns an object that corresponds to the fetched row and moves the internal data pointer ahead.
					</div>


					<h4>See</h4>
					<div class="list">
							<a href="https://secure.php.net/manual/en/pdostatement.fetchobject.php">PDOStatement::fetchObject</a><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="insert_id" id="_insert_id">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_insert_id">#</a>
			<code class="deprecated"><a href="source-class-Database.html#800-810" title="Go to source code">insert_id</a>( )</code>

			<div class="description short">
				<p>Returns the ID of the unique id column of the last INSERT operation.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the ID of the unique id column of the last INSERT operation.</p>

					<h4>Deprecated</h4>
					<div class="list">
							<p>3.1.0:4.0.0 Renamed method to camelCase style.
            Please use methods Database#lastInsertId instead.</p><br>
					</div>


					<h4>Returns</h4>
					<div class="list">
						string<br>Return ID value of the last INSERT operation.
					</div>


					<h4>See</h4>
					<div class="list">
							Database#lastInsertId<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="num_rows" id="_num_rows">

			<td class="attributes"><code>
				 public 
				integer|null
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_num_rows">#</a>
			<code class="deprecated"><a href="source-class-Database.html#812-836" title="Go to source code">num_rows</a>( <span>PDOStatement <var>$pdoStatement</var> = <span class="php-keyword1">null</span></span> )</code>

			<div class="description short">
				<p>Returns the number of rows of the last executed statement.</p>
			</div>

			<div class="description detailed hidden">
				<p>Returns the number of rows of the last executed statement.</p>

					<h4>Deprecated</h4>
					<div class="list">
							<p>3.1.0:4.0.0 Switched to native PDO method.
            Please use the PHP class <a href="https://secure.php.net/manual/en/class.pdostatement.php">PDOStatement</a>
            and the method <a href="https://secure.php.net/manual/en/pdostatement.rowcount.php">rowCount</a> instead.</p><br>
					</div>

					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$pdoStatement</var></dt>
						<dd><p>An object of the class PDOStatement. This should be set if multiple
                                   rows where selected and other sql statements are also send to the database.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer|null<br>Return the number of rows of the result of the sql statement.
					</div>


					<h4>See</h4>
					<div class="list">
							<a href="https://secure.php.net/manual/en/pdostatement.rowcount.php">PDOStatement::rowCount</a><br>
					</div>


			</div>
			</div></td>
		</tr>
			</table>
		</div>











		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="host" id="$host">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#61" title="Go to source code"><var>$host</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$host" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="port" id="$port">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#62" title="Go to source code"><var>$port</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$port" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="dbName" id="$dbName">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#63" title="Go to source code"><var>$dbName</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$dbName" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="username" id="$username">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#64" title="Go to source code"><var>$username</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$username" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="password" id="$password">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#65" title="Go to source code"><var>$password</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$password" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="options" id="$options">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#66" title="Go to source code"><var>$options</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$options" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="dsn" id="$dsn">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#68" title="Go to source code"><var>$dsn</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$dsn" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="pdo" id="$pdo">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#69" title="Go to source code"><var>$pdo</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$pdo" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="transactions" id="$transactions">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#70" title="Go to source code"><var>$transactions</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$transactions" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="pdoStatement" id="$pdoStatement">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#71" title="Go to source code"><var>$pdoStatement</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$pdoStatement" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="dbStructure" id="$dbStructure">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#72" title="Go to source code"><var>$dbStructure</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$dbStructure" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="fetchArray" id="$fetchArray">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#73" title="Go to source code"><var>$fetchArray</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$fetchArray" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="minRequiredVersion" id="$minRequiredVersion">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#74" title="Go to source code"><var>$minRequiredVersion</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$minRequiredVersion" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="databaseName" id="$databaseName">
			<td class="attributes"><code>
				protected  
				
			</code></td>

			<td class="name">
					<a href="source-class-Database.html#75" title="Go to source code"><var>$databaseName</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$databaseName" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		Admidio API API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
